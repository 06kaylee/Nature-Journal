{"remainingRequest":"C:\\Users\\Kaylee\\OneDrive\\Documents\\Nature-Journal\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Kaylee\\OneDrive\\Documents\\Nature-Journal\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\Kaylee\\OneDrive\\Documents\\Nature-Journal\\src\\auth\\index.js","dependencies":[{"path":"C:\\Users\\Kaylee\\OneDrive\\Documents\\Nature-Journal\\src\\auth\\index.js","mtime":1638396164256},{"path":"C:\\Users\\Kaylee\\OneDrive\\Documents\\Nature-Journal\\babel.config.js","mtime":1638299740935},{"path":"C:\\Users\\Kaylee\\OneDrive\\Documents\\Nature-Journal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638300125953},{"path":"C:\\Users\\Kaylee\\OneDrive\\Documents\\Nature-Journal\\node_modules\\babel-loader\\lib\\index.js","mtime":1638300127104},{"path":"C:\\Users\\Kaylee\\OneDrive\\Documents\\Nature-Journal\\node_modules\\eslint-loader\\index.js","mtime":1638300126234}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcS2F5bGVlXFxPbmVEcml2ZVxcRG9jdW1lbnRzXFxOYXR1cmUtSm91cm5hbFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAiQzpcXFVzZXJzXFxLYXlsZWVcXE9uZURyaXZlXFxEb2N1bWVudHNcXE5hdHVyZS1Kb3VybmFsXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RXaXRob3V0UHJvcGVydGllcy5qcyI7CnZhciBfZXhjbHVkZWQgPSBbIm9uUmVkaXJlY3RDYWxsYmFjayIsICJyZWRpcmVjdFVyaSJdOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgY3JlYXRlQXV0aDBDbGllbnQgZnJvbSAnQGF1dGgwL2F1dGgwLXNwYS1qcyc7Ci8qKiBEZWZpbmUgYSBkZWZhdWx0IGFjdGlvbiB0byBwZXJmb3JtIGFmdGVyIGF1dGhlbnRpY2F0aW9uICovCgp2YXIgREVGQVVMVF9SRURJUkVDVF9DQUxMQkFDSyA9IGZ1bmN0aW9uIERFRkFVTFRfUkVESVJFQ1RfQ0FMTEJBQ0soKSB7CiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgZG9jdW1lbnQudGl0bGUsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7Cn07Cgp2YXIgaW5zdGFuY2U7Ci8qKiBSZXR1cm5zIHRoZSBjdXJyZW50IGluc3RhbmNlIG9mIHRoZSBTREsgKi8KCmV4cG9ydCB2YXIgZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiBnZXRJbnN0YW5jZSgpIHsKICByZXR1cm4gaW5zdGFuY2U7Cn07Ci8qKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBBdXRoMCBTREsuIElmIG9uZSBoYXMgYWxyZWFkeSBiZWVuIGNyZWF0ZWQsIGl0IHJldHVybnMgdGhhdCBpbnN0YW5jZSAqLwoKZXhwb3J0IHZhciB1c2VBdXRoMCA9IGZ1bmN0aW9uIHVzZUF1dGgwKF9yZWYpIHsKICB2YXIgX3JlZiRvblJlZGlyZWN0Q2FsbGJhID0gX3JlZi5vblJlZGlyZWN0Q2FsbGJhY2ssCiAgICAgIG9uUmVkaXJlY3RDYWxsYmFjayA9IF9yZWYkb25SZWRpcmVjdENhbGxiYSA9PT0gdm9pZCAwID8gREVGQVVMVF9SRURJUkVDVF9DQUxMQkFDSyA6IF9yZWYkb25SZWRpcmVjdENhbGxiYSwKICAgICAgX3JlZiRyZWRpcmVjdFVyaSA9IF9yZWYucmVkaXJlY3RVcmksCiAgICAgIHJlZGlyZWN0VXJpID0gX3JlZiRyZWRpcmVjdFVyaSA9PT0gdm9pZCAwID8gd2luZG93LmxvY2F0aW9uLm9yaWdpbiA6IF9yZWYkcmVkaXJlY3RVcmksCiAgICAgIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkKTsKCiAgaWYgKGluc3RhbmNlKSByZXR1cm4gaW5zdGFuY2U7IC8vIFRoZSAnaW5zdGFuY2UnIGlzIHNpbXBseSBhIFZ1ZSBvYmplY3QKCiAgaW5zdGFuY2UgPSBuZXcgVnVlKHsKICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLAogICAgICAgIHVzZXI6IHt9LAogICAgICAgIGF1dGgwQ2xpZW50OiBudWxsLAogICAgICAgIHBvcHVwT3BlbjogZmFsc2UsCiAgICAgICAgZXJyb3I6IG51bGwKICAgICAgfTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIC8qKiBBdXRoZW50aWNhdGVzIHRoZSB1c2VyIHVzaW5nIGEgcG9wdXAgd2luZG93ICovCiAgICAgIGxvZ2luV2l0aFBvcHVwOiBmdW5jdGlvbiBsb2dpbldpdGhQb3B1cChvKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX3RoaXMucG9wdXBPcGVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXV0aDBDbGllbnQubG9naW5XaXRoUG9wdXAobyk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNjsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICAgIF90aGlzLnBvcHVwT3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDkpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF1dGgwQ2xpZW50LmdldFVzZXIoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgICBfdGhpcy51c2VyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgX3RoaXMuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgNiwgOSwgMTJdXSk7CiAgICAgICAgfSkpKCk7CiAgICAgIH0sCgogICAgICAvKiogSGFuZGxlcyB0aGUgY2FsbGJhY2sgd2hlbiBsb2dnaW5nIGluIHVzaW5nIGEgcmVkaXJlY3QgKi8KICAgICAgaGFuZGxlUmVkaXJlY3RDYWxsYmFjazogZnVuY3Rpb24gaGFuZGxlUmVkaXJlY3RDYWxsYmFjaygpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfdGhpczIubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmF1dGgwQ2xpZW50LmhhbmRsZVJlZGlyZWN0Q2FsbGJhY2soKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hdXRoMENsaWVudC5nZXRVc2VyKCk7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICBfdGhpczIudXNlciA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgICBfdGhpczIuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMDsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3IgPSBfY29udGV4dDIudDA7CgogICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMzsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMTMpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDEwLCAxMywgMTZdXSk7CiAgICAgICAgfSkpKCk7CiAgICAgIH0sCgogICAgICAvKiogQXV0aGVudGljYXRlcyB0aGUgdXNlciB1c2luZyB0aGUgcmVkaXJlY3QgbWV0aG9kICovCiAgICAgIGxvZ2luV2l0aFJlZGlyZWN0OiBmdW5jdGlvbiBsb2dpbldpdGhSZWRpcmVjdChvKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aDBDbGllbnQubG9naW5XaXRoUmVkaXJlY3Qobyk7CiAgICAgIH0sCgogICAgICAvKiogUmV0dXJucyBhbGwgdGhlIGNsYWltcyBwcmVzZW50IGluIHRoZSBJRCB0b2tlbiAqLwogICAgICBnZXRJZFRva2VuQ2xhaW1zOiBmdW5jdGlvbiBnZXRJZFRva2VuQ2xhaW1zKG8pIHsKICAgICAgICByZXR1cm4gdGhpcy5hdXRoMENsaWVudC5nZXRJZFRva2VuQ2xhaW1zKG8pOwogICAgICB9LAoKICAgICAgLyoqIFJldHVybnMgdGhlIGFjY2VzcyB0b2tlbi4gSWYgdGhlIHRva2VuIGlzIGludmFsaWQgb3IgbWlzc2luZywgYSBuZXcgb25lIGlzIHJldHJpZXZlZCAqLwogICAgICBnZXRUb2tlblNpbGVudGx5OiBmdW5jdGlvbiBnZXRUb2tlblNpbGVudGx5KG8pIHsKICAgICAgICByZXR1cm4gdGhpcy5hdXRoMENsaWVudC5nZXRUb2tlblNpbGVudGx5KG8pOwogICAgICB9LAoKICAgICAgLyoqIEdldHMgdGhlIGFjY2VzcyB0b2tlbiB1c2luZyBhIHBvcHVwIHdpbmRvdyAqLwogICAgICBnZXRUb2tlbldpdGhQb3B1cDogZnVuY3Rpb24gZ2V0VG9rZW5XaXRoUG9wdXAobykgewogICAgICAgIHJldHVybiB0aGlzLmF1dGgwQ2xpZW50LmdldFRva2VuV2l0aFBvcHVwKG8pOwogICAgICB9LAoKICAgICAgLyoqIExvZ3MgdGhlIHVzZXIgb3V0IGFuZCByZW1vdmVzIHRoZWlyIHNlc3Npb24gb24gdGhlIGF1dGhvcml6YXRpb24gc2VydmVyICovCiAgICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KG8pIHsKICAgICAgICByZXR1cm4gdGhpcy5hdXRoMENsaWVudC5sb2dvdXQobyk7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMzJGF1dGgwQ2wsIGFwcFN0YXRlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUF1dGgwQ2xpZW50KHsKICAgICAgICAgICAgICAgICAgZG9tYWluOiBvcHRpb25zLmRvbWFpbiwKICAgICAgICAgICAgICAgICAgY2xpZW50X2lkOiBvcHRpb25zLmNsaWVudElkLAogICAgICAgICAgICAgICAgICBhdWRpZW5jZTogb3B0aW9ucy5hdWRpZW5jZSwKICAgICAgICAgICAgICAgICAgcmVkaXJlY3RfdXJpOiByZWRpcmVjdFVyaQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMy5hdXRoMENsaWVudCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAzOwoKICAgICAgICAgICAgICAgIGlmICghKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoJ2NvZGU9JykgJiYgd2luZG93LmxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcygnc3RhdGU9JykpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuYXV0aDBDbGllbnQuaGFuZGxlUmVkaXJlY3RDYWxsYmFjaygpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMzJGF1dGgwQ2wgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGFwcFN0YXRlID0gX3lpZWxkJF90aGlzMyRhdXRoMENsLmFwcFN0YXRlOwogICAgICAgICAgICAgICAgLy8gTm90aWZ5IHN1YnNjcmliZXJzIHRoYXQgdGhlIHJlZGlyZWN0IGNhbGxiYWNrIGhhcyBoYXBwZW5lZCwgcGFzc2luZyB0aGUgYXBwU3RhdGUKICAgICAgICAgICAgICAgIC8vICh1c2VmdWwgZm9yIHJldHJpZXZpbmcgYW55IHByZS1hdXRoZW50aWNhdGlvbiBzdGF0ZSkKICAgICAgICAgICAgICAgIG9uUmVkaXJlY3RDYWxsYmFjayhhcHBTdGF0ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgX3RoaXMzLmVycm9yID0gX2NvbnRleHQzLnQwOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmF1dGgwQ2xpZW50LmlzQXV0aGVudGljYXRlZCgpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX3RoaXMzLmlzQXV0aGVudGljYXRlZCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuYXV0aDBDbGllbnQuZ2V0VXNlcigpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX3RoaXMzLnVzZXIgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCgxNSk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMywgMTIsIDE1LCAyNF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIGluc3RhbmNlOwp9OyAvLyBDcmVhdGUgYSBzaW1wbGUgVnVlIHBsdWdpbiB0byBleHBvc2UgdGhlIHdyYXBwZXIgb2JqZWN0IHRocm91Z2hvdXQgdGhlIGFwcGxpY2F0aW9uCgpleHBvcnQgdmFyIEF1dGgwUGx1Z2luID0gewogIGluc3RhbGw6IGZ1bmN0aW9uIGluc3RhbGwoVnVlLCBvcHRpb25zKSB7CiAgICBWdWUucHJvdG90eXBlLiRhdXRoID0gdXNlQXV0aDAob3B0aW9ucyk7CiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/Kaylee/OneDrive/Documents/Nature-Journal/src/auth/index.js"],"names":["Vue","createAuth0Client","DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","instance","getInstance","useAuth0","onRedirectCallback","redirectUri","origin","options","data","loading","isAuthenticated","user","auth0Client","popupOpen","error","methods","loginWithPopup","o","console","getUser","handleRedirectCallback","loginWithRedirect","getIdTokenClaims","getTokenSilently","getTokenWithPopup","logout","created","domain","client_id","clientId","audience","redirect_uri","search","includes","appState","Auth0Plugin","install","prototype","$auth"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport createAuth0Client from '@auth0/auth0-spa-js';\r\n\r\n/** Define a default action to perform after authentication */\r\nconst DEFAULT_REDIRECT_CALLBACK = () =>\r\n  window.history.replaceState({}, document.title, window.location.pathname);\r\n\r\nlet instance;\r\n\r\n/** Returns the current instance of the SDK */\r\nexport const getInstance = () => instance;\r\n\r\n/** Creates an instance of the Auth0 SDK. If one has already been created, it returns that instance */\r\nexport const useAuth0 = ({\r\n    onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\r\n    redirectUri = window.location.origin,\r\n    ...options\r\n  }) => {\r\nif (instance) return instance;\r\n\r\n// The 'instance' is simply a Vue object\r\ninstance = new Vue({\r\n    data() {\r\n      return {\r\n        loading: true,\r\n        isAuthenticated: false,\r\n        user: {},\r\n        auth0Client: null,\r\n        popupOpen: false,\r\n        error: null,\r\n      };\r\n    },\r\n    methods: {\r\n        /** Authenticates the user using a popup window */\r\n        async loginWithPopup(o) {\r\n          this.popupOpen = true;\r\n  \r\n          try {\r\n            await this.auth0Client.loginWithPopup(o);\r\n          } catch (e) {\r\n            // eslint-disable-next-line\r\n            console.error(e);\r\n          } finally {\r\n            this.popupOpen = false;\r\n          }\r\n  \r\n          this.user = await this.auth0Client.getUser();\r\n          this.isAuthenticated = true;\r\n        },\r\n        /** Handles the callback when logging in using a redirect */\r\n        async handleRedirectCallback() {\r\n          this.loading = true;\r\n          try {\r\n            await this.auth0Client.handleRedirectCallback();\r\n            this.user = await this.auth0Client.getUser();\r\n            this.isAuthenticated = true;\r\n          } catch (e) {\r\n            this.error = e;\r\n          } finally {\r\n            this.loading = false;\r\n          }\r\n        },\r\n        /** Authenticates the user using the redirect method */\r\n      loginWithRedirect(o) {\r\n        return this.auth0Client.loginWithRedirect(o);\r\n      },\r\n      /** Returns all the claims present in the ID token */\r\n      getIdTokenClaims(o) {\r\n        return this.auth0Client.getIdTokenClaims(o);\r\n      },\r\n      /** Returns the access token. If the token is invalid or missing, a new one is retrieved */\r\n      getTokenSilently(o) {\r\n        return this.auth0Client.getTokenSilently(o);\r\n      },\r\n      /** Gets the access token using a popup window */\r\n\r\n      getTokenWithPopup(o) {\r\n        return this.auth0Client.getTokenWithPopup(o);\r\n      },\r\n      /** Logs the user out and removes their session on the authorization server */\r\n      logout(o) {\r\n        return this.auth0Client.logout(o);\r\n      },\r\n    },\r\n    async created() {\r\n        // Create a new instance of the SDK client using members of the given options object\r\n        this.auth0Client = await createAuth0Client({\r\n          domain: options.domain,\r\n          client_id: options.clientId,\r\n          audience: options.audience,\r\n          redirect_uri: redirectUri,\r\n        });\r\n        try {\r\n            // If the user is returning to the app after authentication..\r\n            if (\r\n              window.location.search.includes('code=') &&\r\n              window.location.search.includes('state=')\r\n            ) {\r\n              // handle the redirect and retrieve tokens\r\n              const { appState } = await this.auth0Client.handleRedirectCallback();\r\n    \r\n              // Notify subscribers that the redirect callback has happened, passing the appState\r\n              // (useful for retrieving any pre-authentication state)\r\n              onRedirectCallback(appState);\r\n            }\r\n          } catch (e) {\r\n            this.error = e;\r\n          } finally {\r\n            // Initialize the internal authentication state\r\n            this.isAuthenticated = await this.auth0Client.isAuthenticated();\r\n            this.user = await this.auth0Client.getUser();\r\n            this.loading = false;\r\n          }\r\n        },\r\n      });\r\n    \r\n      return instance;\r\n    };\r\n\r\n// Create a simple Vue plugin to expose the wrapper object throughout the application\r\nexport const Auth0Plugin = {\r\n    install(Vue, options) {\r\n      Vue.prototype.$auth = useAuth0(options);\r\n    },\r\n};"]}]}